<!DOCTYPE html><html lang="en"><head><meta charSet="UTF-8"/><title>Abhishek Kasana | Developer | Personal Homepage</title><meta name="description" content="Discover the world of software development with Abhishek Kasana, a passionate developer and tinkerer. Explore insightful blogs on coding, innovation, and the wonders of tech."/><meta name="keywords" content="Python, Database, Cryptography, React, Node.js, Docker, Software Engineering, Tech Innovation, Programming, Abhishek Kasana, Cuemath, Software Developer, Tech Blogger, Bangalore Tech Scene, India technology, PEC"/><link rel="shortcut icon" href="/static/images/logo/fav_icon.png"/><link rel="icon" href="/static/images/logo/fav_icon.png" type="image/png" sizes="16x16"/><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/><meta name="next-head-count" content="7"/><style data-styled="jbiBgz dTnaZX hSnOIt ejHLhZ hPYdpJ cuZvUJ hAAcbM czTbbb cDyjfs ewCBwB dYJSLO fNNWlD juZPLJ gXzULH dsazOD cJXzRJ pIVqM sbhgw enpmVc lbYcYQ bkxpXI etbdhk" data-styled-version="4.4.1">
/* sc-component-id: sc-bdVaJa */
.cJXzRJ{font-size:70px;font-weight:400;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;line-height:1.1;margin-bottom:3%;} @media (max-width:1024px){.cJXzRJ{font-size:54px;}} @media (max-width:767px){.cJXzRJ{font-size:42px;}}
/* sc-component-id: sc-bwzfXH */
.dsazOD{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:#f5f8fa;text-shadow:none;font-size:1.125rem;line-height:1.5;margin-bottom:5em;} @media(max-width:767px){.dsazOD{font-size:1.0625rem;}}
/* sc-component-id: sc-htpNat */
.sbhgw{font-size:32px;margin:.4em 0;font-weight:500;} @media (max-width:1024px){.sbhgw{font-size:26px;}}
/* sc-component-id: sc-bxivhb */
.pIVqM{margin:16px 0;border:none;background:#f5f8fa;height:2px;}
/* sc-component-id: sc-EHOje */
.gXzULH{height:inherit;margin:0 auto;padding:16px;margin:auto;} @media (min-width:1025px){.gXzULH{max-width:960px;padding:0;}}
/* sc-component-id: sc-gzVnrw */
.hSnOIt{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}
/* sc-component-id: sc-gqjmRU */
.hAAcbM{font-size:18px;color:#fff !important;}
/* sc-component-id: sc-VigVT */
.jbiBgz{background:#44475A;box-shadow:0 2px #FFF053;}
/* sc-component-id: sc-jTzLTM */
.dTnaZX{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:auto;margin-left:auto;padding:0;overflow:hidden;} @media (min-width:1025px){.dTnaZX{max-width:960px;}}
/* sc-component-id: sc-fjdhpX */
.ejHLhZ{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:32px;height:auto;font-size:24px;margin:6px 18px 6px 0;-webkit-text-decoration:none;text-decoration:none;border-radius:2px;border:3px solid #bd93f9;color:inherit;} @media (max-width:1024px){.ejHLhZ{margin:6px 18px 6px 16px;}}
/* sc-component-id: sc-jzJRlG */
.hPYdpJ{padding:12px 12px 12px 0;margin:auto;}
/* sc-component-id: sc-cSHVUG */
.czTbbb{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:auto;margin-right:unset;}
/* sc-component-id: sc-kAzzGY */
.cDyjfs{height:25px;width:25px;padding:12px;display:block;text-align:center;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:0.5s;transition:0.5s;-o-transition:0.5s;-ms-transition:0.5s;-moz-transition:0.5s;-webkit-transition:0.5s;} .cDyjfs:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);background-color:#1b1c30;box-shadow:0 0 8px 2px #0073a4;} @media (max-width:1024px){.cDyjfs{padding:12px 6px;}}.ewCBwB{height:25px;width:25px;padding:12px;display:block;text-align:center;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:0.5s;transition:0.5s;-o-transition:0.5s;-ms-transition:0.5s;-moz-transition:0.5s;-webkit-transition:0.5s;} .ewCBwB:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);background-color:#1b1c30;box-shadow:0 0 8px 2px #f48024;} @media (max-width:1024px){.ewCBwB{padding:12px 6px;}}.dYJSLO{height:25px;width:25px;padding:12px;display:block;text-align:center;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:0.5s;transition:0.5s;-o-transition:0.5s;-ms-transition:0.5s;-moz-transition:0.5s;-webkit-transition:0.5s;} .dYJSLO:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);background-color:#1b1c30;box-shadow:0 0 8px 2px #00aced;} @media (max-width:1024px){.dYJSLO{padding:12px 6px;}}.fNNWlD{height:25px;width:25px;padding:12px;display:block;text-align:center;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:0.5s;transition:0.5s;-o-transition:0.5s;-ms-transition:0.5s;-moz-transition:0.5s;-webkit-transition:0.5s;} .fNNWlD:hover{-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1);background-color:#1b1c30;box-shadow:0 0 8px 2px #24292d;} @media (max-width:1024px){.fNNWlD{padding:12px 6px;}}
/* sc-component-id: sc-chPdSV */
.juZPLJ{max-width:100%;max-height:100%;}
/* sc-component-id: sc-kgoBCf */
.cuZvUJ{-webkit-text-decoration:none;text-decoration:none;}
/* sc-component-id: sc-kGXeez */
.etbdhk{font:normal 16px monospace;background-color:#484959;border:1px solid #E7E7E7;padding:12px;margin:16px 0;border-radius:2px;white-space:pre-wrap;overflow:auto;}
/* sc-component-id: sc-hMqMXs */
.lbYcYQ{max-width:128px;max-height:128px;border-radius:3px;cursor:pointer;z-index:3;}
/* sc-component-id: sc-kkGfuU */
.enpmVc{white-space:pre-wrap;}
/* sc-component-id: sc-hSdWYo */
.bkxpXI{padding-left:4px;}</style><style>
                /* custom! */
                body {
                    margin: 0;
                    background: #282A36;
                    color: white;
                    font-family: Verdana, DejaVu Sans, sans-serif;
                    ::selection {
                      background-color: #BD93F9;
                      color: #FFFFFF;
                    }
                } 
            </style><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-3f94d2de14fe4c1a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-d019ca2d24f7755c.js" defer=""></script><script src="/_next/static/chunks/115-b27358486d183b22.js" defer=""></script><script src="/_next/static/chunks/37-ac0adf65541a0b11.js" defer=""></script><script src="/_next/static/chunks/pages/blog/line-sweep-37c17903bb3aef94.js" defer=""></script><script src="/_next/static/L-Ah46iEkbAv57pQDuGxs/_buildManifest.js" defer=""></script><script src="/_next/static/L-Ah46iEkbAv57pQDuGxs/_ssgManifest.js" defer=""></script><script src="/_next/static/L-Ah46iEkbAv57pQDuGxs/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Lato">@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHvxo.woff) format('woff')}@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjxAwXiWtFCfQ7A.woff2) format('woff2');unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/lato/v24/S6uyw4BMUTPHjx4wXiWtFCc.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="custom_class"><div id="__next" data-reactroot=""><div><div class="sc-VigVT jbiBgz"><div class="sc-gzVnrw sc-jTzLTM dTnaZX"><div class="sc-gzVnrw hSnOIt"><a href="/" class="sc-fjdhpX ejHLhZ">K</a><div class="sc-jzJRlG hPYdpJ"><a href="/about-me" class="sc-kgoBCf cuZvUJ"><span color="#fff" class="sc-gqjmRU hAAcbM">about</span></a></div></div><div class="sc-gzVnrw sc-cSHVUG czTbbb"><a href="https://www.linkedin.com/in/abhishek-kasana-4a7836106" class="sc-kAzzGY cDyjfs"><img alt="linked-in" src="https://img.icons8.com/ios-glyphs/128/ffffff/linkedin.png" class="sc-chPdSV juZPLJ"/></a><a href="https://stackoverflow.com/users/9057473/" class="sc-kAzzGY ewCBwB"><img alt="stackoverflow" src="https://img.icons8.com/ios/128/ffffff/stackoverflow-filled.png" class="sc-chPdSV juZPLJ"/></a><a href="https://twitter.com/abhishekasana" class="sc-kAzzGY dYJSLO"><img alt="twitter" src="https://img.icons8.com/ios-glyphs/128/ffffff/twitter-circled.png" class="sc-chPdSV juZPLJ"/></a><a href="https://github.com/abhishekasana" class="sc-kAzzGY fNNWlD"><img alt="github" src="https://img.icons8.com/ios-glyphs/128/ffffff/github.png" class="sc-chPdSV juZPLJ"/></a></div></div></div><div class="sc-ifAKCX sc-EHOje gXzULH"><div class="sc-bwzfXH dsazOD"><h1 class="sc-bdVaJa cJXzRJ">Solving time collisions with geometric algorithms</h1><hr class="sc-bxivhb pIVqM"/><h2 class="sc-htpNat sbhgw">Introduction</h2><div class="sc-kkGfuU enpmVc">Imagine you&#x27;re given 100,000 points scattered across a plane. Your task seems simple: find the closest pair of points. The naive approach would compare every possible pair, resulting in nearly 5 billion comparisons. But what if I told you there&#x27;s a technique that could solve this in almost linear time?<br/><br/>This elegant approach—the line sweep algorithm—turned out to be the solution to a seemingly unrelated problem I encountered years later. Let me share how this geometric algorithm became the unexpected hero in my event scheduling system.</div><hr class="sc-bxivhb pIVqM"/><h2 class="sc-htpNat sbhgw">How I Discovered Line Sweep: A Scheduling Analysis Dilemma</h2><div class="sc-kkGfuU enpmVc">The problem was deceptively simple: find all overlapping time slots across thousands of appointments in our scheduling system. My first instinct was the brute-force route—compare every pair of slots and check for collisions. Whether done in SQL or in memory, the approach quickly crumbled under real-world scale. With tens of thousands of slots being logged daily across multiple time zones, the computation became unmanageable.<br/><br/>I wasn&#x27;t willing to settle for batching, it felt like conceding defeat. That&#x27;s when a distant memory resurfaced: the line sweep.<br/><br/>If you imagine every appointment as a start and end point on a 1D timeline, the collision problem transforms into something strikingly geometric. By &quot;sweeping&quot; through the sorted list of start and end times, you can track how many appointments are active at any moment—and spot overlaps efficiently.<br/><br/>What once felt like a messy data problem suddenly had a clean, elegant algorithmic core. The line sweep turned out to be the key, transforming our slow and clunky analytics into something snappy.</div><hr class="sc-bxivhb pIVqM"/><h2 class="sc-htpNat sbhgw">Understanding Line Sweep</h2><div class="sc-kkGfuU enpmVc">At its core, the line sweep algorithm works by imagining an invisible line (usually vertical) that sweeps across the plane from left to right, stopping at important points. Rather than considering all geometric objects simultaneously, we only focus on the objects that intersect with our sweeping line at any given moment.<br/><br/>Think of it like scanning a room with a laser beam—instead of trying to process everything at once, you examine only what the beam illuminates as it moves across the space. This approach dramatically reduces the computational complexity.<br/><br/><div><img src="/static/images/line_sweep_algorithm.png" alt="" class="sc-hMqMXs lbYcYQ"/></div><br/>The key components of any line sweep algorithm include:<ol><li class="sc-hSdWYo bkxpXI"><strong>The Sweep Line:</strong> A conceptual line that moves across the plane</li><li class="sc-hSdWYo bkxpXI"><strong>Events:</strong> Points where we need to update our data structures (like when the sweep line hits a new point)</li><li class="sc-hSdWYo bkxpXI"><strong>Status Structure:</strong> A data structure that maintains information about objects currently intersecting the sweep line</li></ol></div><h2 class="sc-htpNat sbhgw">Solving the Closest Pair Problem</h2><div class="sc-kkGfuU enpmVc">Let&#x27;s apply the line sweep technique to find the closest pair of points among n points in a plane—a problem that would normally require O(n²) comparisons.<br/><br/>The algorithm works as follows:<ol><li class="sc-hSdWYo bkxpXI">Sort all points by their x-coordinates (taking O(n log n) time)</li><li class="sc-hSdWYo bkxpXI">Initialize a variable δ to track the minimum distance found so far (set to infinity initially)</li><li class="sc-hSdWYo bkxpXI">Create an empty balanced binary search tree (BST) to store points sorted by their y-coordinates</li><li class="sc-hSdWYo bkxpXI">Sweep a vertical line from left to right, processing each point</li></ol><br/>As we process each point p:<ol><li class="sc-hSdWYo bkxpXI">Remove all points from our BST that have x-coordinates less than (p.x - δ), as they cannot form the closest pair with p</li><li class="sc-hSdWYo bkxpXI">Search the BST for all points with y-coordinates between (p.y - δ) and (p.y + δ), as only these points could potentially be closer than our current minimum</li><li class="sc-hSdWYo bkxpXI">Calculate the distance between p and each potential candidate, updating δ if we find a smaller distance</li><li class="sc-hSdWYo bkxpXI">Insert p into the BST</li></ol><br/><div><img src="/static/images/closest_pair.png" alt="" class="sc-hMqMXs lbYcYQ"/></div><br/>The brilliance of this approach is that we don&#x27;t need to compare every pair of points. At each step, we only consider points within a narrow vertical strip of width 2δ around our current point. And within this strip, we only look at points within a distance δ above or below our current point.<br/><br/>A key insight: within any strip of width δ, there can be at most a constant number of points that are at least δ apart from each other. This means each point is compared with only a constant number of other points, resulting in an O(n log n) algorithm overall.</div><h2 class="sc-htpNat sbhgw">Translating Line Sweep to Time: Solving the Collision Problem</h2><div class="sc-kkGfuU enpmVc">The breakthrough moment came when I realized that time intervals could be treated just like geometric objects. An event with start and end times is conceptually similar to a line segment with start and end points. The collision detection problem in my scheduling system was fundamentally a line segment intersection problem—just along a one-dimensional timeline rather than in 2D space.<br/><br/>Here&#x27;s how I implemented the solution:<br/><br/>1. Transform events into time points: Each event generates two time points—a start point (adding 1 to our &quot;active count&quot;) and an end point (subtracting 1)<br/><br/><div class="sc-kGXeez etbdhk">-- Start points (value = 1)
SELECT start_time AS time_point, 1 AS event_value, id, user_id
FROM appointments 
WHERE date = &#x27;2025-05-18&#x27;
UNION ALL

-- End points (value = -1)
SELECT end_time AS time_point, -1 AS event_value, id, user_id
FROM appointments 
WHERE date = &#x27;2025-05-18&#x27;</div><br/>2. Sort these time points chronologically: This is our &quot;sweep line&quot; moving through time<br/><br/><div class="sc-kGXeez etbdhk">SELECT 
    time_point,
    id,
    user_id,
    event_value,
    -- Running sum tracks active events at each moment
    SUM(event_value) OVER (ORDER BY time_point) AS active_count
FROM sweep_events
ORDER BY time_point</div><br/>3. Detect collisions: Wherever the active count exceeds 1, we have overlapping events<br/><br/><div class="sc-kGXeez etbdhk">-- Finding user-specific conflicts
SELECT 
    s1.id AS slot1_id,
    s2.id AS slot2_id,
    s1.user_id,
    s1.time_point AS collision_point
FROM sweep_state s1
JOIN sweep_state s2 ON 
    s1.time_point = s2.time_point AND
    s1.id &lt; s2.id AND
    s1.user_id = s2.user_id AND
    s1.event_value = 1
WHERE 
    s1.active_count &gt; 1</div><br/><br/>The beauty of this solution is its efficiency. Instead of comparing every possible pair of appointments (n²), we process just 2n time points (start and end for each appointment) in sorted order. The time complexity drops to O(n log n), again dominated by the sorting step.</div><h2 class="sc-htpNat sbhgw">Beyond Basic Collision Detection</h2><div class="sc-kkGfuU enpmVc">Once I had the foundation in place, I could extend the solution to handle more complex business rules:<br/><br/><ul><li class="sc-hSdWYo bkxpXI">User-specific conflicts: Finding cases where the same person is double-booked</li><li class="sc-hSdWYo bkxpXI">Room-specific conflicts: Identifying overlapping bookings for the same physical space</li><li class="sc-hSdWYo bkxpXI">Resource utilization: Determining peak times when we need additional staff</li><li class="sc-hSdWYo bkxpXI">Capacity planning: Visualizing time periods with the highest booking density</li></ul><br/>By adding a few additional dimensions to our sweep, we could answer complex questions that would have been computationally expensive with traditional approaches.</div><h2 class="sc-htpNat sbhgw">The Elegant Transformation</h2><div class="sc-kkGfuU enpmVc">What fascinates me most about this algorithm is how elegantly it transforms dimensions. In the closest pair problem, it reduces a two-dimensional search space to a manageable one-dimensional sweep. In my scheduling problem, it transformed a complex temporal relationship question into a simple counting exercise along a timeline.<br/><br/>This dimensional reduction is what gives the line sweep algorithm its power across seemingly unrelated domains. Whether you&#x27;re working with points in a plane or events in time, the core principle remains the same: sweep through one dimension in order, maintaining only the information needed at each step.<br/><br/>Sometimes great solutions come from unexpected places—in my case, from a computational geometry algorithm I&#x27;d studied years earlier. It&#x27;s a reminder that algorithmic thinking transcends specific domains, and elegant solutions often have surprising applications.</div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/blog/line-sweep","query":{},"buildId":"L-Ah46iEkbAv57pQDuGxs","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>